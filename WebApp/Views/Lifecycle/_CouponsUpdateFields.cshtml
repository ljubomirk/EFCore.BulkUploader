
@{
    ViewData["Title"] = "_UpdateFields";
}

<!-- form controls -->
<div class="row">
    <div class="input-field col s2">
        <input placeholder="-not selected-" id="input-customer" class="white input-coupon" type="text" />
        <label class="active" for="bbb">Customer</label>
        @*<i class="material-icons validation-error suffix" data-position="bottom" data-tooltip="yo, škagre!">warning</i>*@
    </div>
    <div class="input-field date col s2">
        <input placeholder="-not selected-" id="input-validuntil" class="white calendar input-coupon" type="text" />
        <label class="active" for="bbb">Valid Until</label>
        <i id="icon-endDate" class="material-icons suffix">event</i>
        @*<i class="material-icons validation-error suffix" data-position="bottom" data-tooltip="yo, škagre!">warning</i>*@
    </div>
    <div class="input-field col s2">
        <select id="input-status" class="input-coupon select-coupon">
            <option value="" selected>-not selected-</option>
            <option value="Created">Created</option>
            <option value="Issued">Issued</option>
            <option value="Redeemed">Redeemed</option>
            <option value="Canceled">Canceled</option>
        </select>
        <label>Status</label>
    </div>
    <div class="input-field col s2">
        <select id="input-enabled" class="input-coupon select-coupon">
            <option value="" selected>-not selected-</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
        <label>Enabled</label>
    </div>
    <div class="input-field col s4 u-p-r-remove">
        <button id="modal-trigger" class="waves-effect waves-light btn-flat btn-primary right modal-trigger" href="#modal-confirmation" disabled><i class="material-icons left">update</i>@CouponDatabase.Properties.Resources.Btn_UpdateSelected <span id="coupon-number"></span></button>
    </div>
</div>
<!-- /form controls -->

<!-- confirmation modal -->
<partial name="_CouponsModal" />
<!-- /confirmation modal -->

<script src="~/js/calendar.js" asp-append-version="true"></script>
<script>
    $(document).ready(function () {
        // init date picker
        $('.calendar').calendar().change(function (e) {
            // validate date format
            // TODO: regex should be changed depending on locale
            var input = $(this);
            var re = /^[0-9]{2}.[0-9]{2}.[0-9]{4}$/;
            var valid = re.test(e.target.value);
            if (valid) {
                input.removeClass("invalid").addClass("valid");
            }
            else {
                input.removeClass("valid").addClass("invalid");
            }
        });

        //init select
        $('.select-coupon').formSelect();
    });
</script>